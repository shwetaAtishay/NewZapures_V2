@using NewZapures_V2.Models
@{
    ViewBag.Title = "Staff";
    Layout = null;// "~/Views/Shared/_Layout.cshtml";
    List<NewZapures_V2.Models.StaffBO.Staff> stafflist = ViewBag.StaffList as List<NewZapures_V2.Models.StaffBO.Staff>;
    List<CustomMaster> RoleType = new List<CustomMaster>();
    if (ViewBag.RoleType != null)
    {
        RoleType = (List<CustomMaster>)ViewBag.RoleType;
    }
    List<CustomMaster> CourseList = new List<CustomMaster>();
    if (ViewBag.CourseList != null)
    {
        CourseList = (List<CustomMaster>)ViewBag.CourseList;
    }
}

<style>
    .tblscroll {
        width: 100%;
        overflow-x: scroll;
    }

    .errr-highlight {
        border: 1px solid #ec3352;
    }

    .sucess-highlight {
        border: 1px solid #e8ebf3;
    }

    .labels:empty {
        display: none;
    }

    .labels-danger {
        color: #fff;
        background-color: #d9534f;
    }

    labels {
        display: inline;
        padding: .2em .6em .3em;
        font-size: 75%;
        font-weight: 700;
        line-height: 1;
        color: #fff;
        text-align: center;
        white-space: nowrap;
        vertical-align: baseline;
        border-radius: .25em;
        margin-bottom: 0px !important;
    }

    .delete-row, h2 {
        margin: 0px !important;
    }

    .filestyle {
        border: 0px !important;
    }
</style>
@section styles {
    <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    <link href="~/Content/NocCustomCss/StyleNoc.css" rel="stylesheet" />
    <link href="~/plugins/datatables/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css" />
    <link href="~/plugins/datatables/buttons.bootstrap4.min.css" rel="stylesheet" type="text/css" />
    <link href="~/plugins/datatables/responsive.bootstrap4.min.css" rel="stylesheet" type="text/css" />-->
    @*<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">*@
    <!--<link href="~/Content/JitendraCSS/jquery-confirm.min.css" rel="stylesheet" />
    <link href="~/Content/JitendraCSS/bootstrap.min.css" rel="stylesheet" />-->
    <link href="~/Content/NocCustomCss/StyleNoc.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    <link href="~/Content/NocCustomCss/StyleNoc.css" rel="stylesheet" />
    <link href="~/plugins/datatables/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css" />
    <link href="~/plugins/datatables/buttons.bootstrap4.min.css" rel="stylesheet" type="text/css" />
    <link href="~/plugins/datatables/responsive.bootstrap4.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/JitendraCSS/jquery-confirm.min.css" rel="stylesheet" />
    <link href="~/Content/JitendraCSS/bootstrap.min.css" rel="stylesheet" />
}
<style type="text/css">
    .btnpink {
        color: black !important;
        background: #ffbf68;
        background: -webkit-linear-gradient(to left, #b91d73, #f953c6);
        background: linear-gradient(to left, #ffbf62, #ffbf68);
        border: black;
        float: right;
    }
    /*
    table, th, td {
        border: 1px solid #cdcdcd;
    }

        table th, table td {
            padding: 10px;
            text-align: left;
        }


    .table th {
        color: #ffffff !important;
    }
    */
    .delete-row, h2 {
        margin: 20px;
    }

    .dropify-wrapper {
        display: block;
        position: relative;
        cursor: pointer;
        overflow: hidden;
        width: 100%;
        max-width: 100%;
        height: 138px;
        padding: 5px 10px;
        font-size: 14px;
        line-height: 22px;
        color: #777;
        background-color: #FFF;
        background-image: none;
        text-align: center;
        border: 2px solid #E5E5E5;
        -webkit-transition: border-color .15s linear;
        transition: border-color .15s linear;
    }
    /*
    .table thead {
        background-color: #ffffff !important;
    }

    .table th {
        color: #ffffff !important;
    }
    */
    .fsc {
        background: #6441A5;
        background: -webkit-linear-gradient(to left, #2a0845, #6441A5);
        background: linear-gradient(to left, #506ee4, #5b3a96);
        border-radius: 12px;
    }

        .fsc h4 {
            color: white !important;
        }

    .fsi {
        background: #6441A5;
        background: -webkit-linear-gradient(to right, #2a0845, #6441A5);
        background: linear-gradient(to right, #506ee4, #5b3a96);
        border-radius: 12px;
    }

        .fsi h4 {
            color: white !important;
        }

    .fop {
        background: #B993D6; /* fallback for old browsers */
        background: -webkit-linear-gradient(to left, #8CA6DB, #B993D6); /* Chrome 10-25, Safari 5.1-6 */
        background: linear-gradient(to left, #8CA6DB, #B993D6); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
        border-radius: 12px;
    }

        .fop h4 {
            color: white !important;
        }
</style>
<div class="row d-none">
    <div class="col-sm-12">
        <div class="page-title-box">
            @*<div class="float-right">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">NOC</li>
                        <li class="breadcrumb-item">Master</li>
                        <li class="breadcrumb-item active">Staff</li>
                    </ol>
                </div>*@
            <h4 class="page-title">@ViewBag.Title</h4>
        </div><!--end page-title-box-->
    </div><!--end col-->
</div>

<div class="card noc-layouts m-0">
    <div class="card-header title-heading p-0">
        <h4 class="mt-0 title-heading  float-left">Staff Details</h4>
    </div>
    <input type="hidden" name="guid" id="guid" value="@ViewBag.guid" />
    <div class="card-body row">
        <div class="col-lg-12">
            <div class="row">
                <div class="form-group col-lg-4">
                    <label for="" class="col-sm-12 noc-form-label"><strong>Select Type</strong></label>
                    <div class="form-check-inline my-1">
                        <div class="custom-control custom-radio">
                            <input type="radio" id="customRadio7" value="1" name="Type" class="custom-control-input" checked>
                            <label class="custom-control-label" for="customRadio7">Teaching</label>
                        </div>
                    </div>
                    <div class="form-check-inline my-1">
                        <div class="custom-control custom-radio">
                            <input type="radio" id="customRadio8" value="2" name="Type" class="custom-control-input">
                            <label class="custom-control-label" for="customRadio8">Non Teaching</label>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4" id="divCourse">
                    <div class="form-group">
                        <lable class="noc-form-label"><strong>Course</strong></lable>
                        <span style="color:red;">*</span>
                        <select class="form-control noc-input-text" id="Course" name="Course" required>
                            <option value="0">Select Course</option>
                            @{
                                foreach (var item in CourseList)
                                {
                                    <option value="@item.Id">@item.text</option>
                                }
                            }
                        </select>
                    </div>
                </div>
                <div class="col-lg-4" id="divSubject">
                    <div class="form-group">
                        <lable class="noc-form-label"><strong>Subject</strong></lable>
                        <span style="color:red;">*</span>
                        <select class="form-control noc-input-text" id="SubjectWITHcOURSE" name="SubjectWITHcOURSE" required>
                            <option value="0">Select Subject</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">

                <div class="col-lg-4">
                    <div class="form-group">
                        <lable class="noc-form-label"><strong>Name of Person</strong></lable>
                        <span style="color:red;">*</span>
                        <input class="form-control noc-input-text alphaspace" type="text" autocomplete="off" id="Name" name="Name" required>
                    </div>
                </div>
                <div class="col-lg-4" id="divRole">
                    <div class="form-group">
                        <lable class="noc-form-label"><strong>Role</strong></lable>
                        <span style="color:red;">*</span>
                        <select class="form-control noc-input-text" id="Role" name="Role" required>
                            <option value="0">Select Role</option>
                            @{
                                foreach (var item in RoleType)
                                {
                                    <option value="@item.Id">@item.text</option>
                                }
                            }
                        </select>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <lable class="noc-form-label"><strong>Mobile No</strong></lable>
                        <span style="color:red;">*</span>
                        <input class="form-control noc-input-text numberonly" type="text" autocomplete="off" id="Mobile" name="Mobile" maxlength="10" required>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <lable class="noc-form-label"><strong>Email</strong></lable>
                        <span style="color:red;">*</span>
                        <input class="form-control noc-input-text" type="text" autocomplete="off" id="Email" name="Email" required>
                    </div>
                </div>
                <div class="col-lg-4 " style="">
                    <div class="form-group">
                        <lable class="noc-form-label"><strong>Profile Photo</strong></lable>
                        @*<p class="text-muted mb-3">Upload Your Profile Photo</p>*@
                        <div>
                            <input type="file" id="profilefile" class="form-control" name="profilefile" onchange="return encodeImageFileAsURL(this,'hdnprofilefileDoc','hdnprofilefileDocExten')" />
                            <input type="hidden" id="hdnprofilefileDoc" />
                            <input type="hidden" id="hdnprofilefileDocExten" />
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <lable class="noc-form-label"><strong>Qualification</strong></lable>
                        <span style="color:red;">*</span>
                        <select class="form-control noc-input-text" id="Qualification" name="Qualification" required>
                            <option value="0">Select</option>
                            <option value="1">Graduation</option>
                            <option value="2">Post Graduation</option>
                            <option value="3">PHD</option>
                        </select>
                        @*<input class="form-control noc-input-text alphaspace" type="text" autocomplete="off" id="Qualification" name="Qualification" required>*@
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <lable class="noc-form-label"><strong>Total Number of Experience</strong></lable>
                        <span style="color:red;">*</span>
                        <input class="form-control noc-input-text numberonly" type="text" autocomplete="off" id="ExpNo" name="ExpNo" required>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <lable class="noc-form-label"><strong>Aadhaar Card</strong></lable>
                        <span style="color:red;">*</span>
                        <div>
                            <input type="file" id="aadhaarfile" class="form-control" name="aadhaarfile" onchange="return encodeImageFileAsURL(this,'hdnaadhaarfileDoc','hdnaadhaarfileDocExten')" />
                            <input type="hidden" id="hdnaadhaarfileDoc" />
                            <input type="hidden" id="hdnaadhaarfileDocExten" />
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <lable class="noc-form-label"><strong>Pan Card</strong></lable>
                        <span style="color:red;">*</span>
                        <div>
                            <input type="file" id="panfile" class="form-control" name="panfile" onchange="return encodeImageFileAsURL(this,'hdnpanfileDoc','hdnpanfileDocExten')" />
                            <input type="hidden" id="hdnpanfileDoc" />
                            <input type="hidden" id="hdnpanfileDocExten" />
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group" id="filediv">
                        <label class="noc-form-label" for="file2"><strong>Experience Certificate</strong></label>
                        <div>
                            <input type="file" id="experiencefile" class="form-control" name="experiencefile" onchange="return encodeImageFileAsURL(this,'hdnexperiencefileDoc','hdnexperiencefileDocExten')" />
                            <input type="hidden" id="hdnexperiencefileDoc" />
                            <input type="hidden" id="hdnexperiencefileDocExten" />
                        </div>
                    </div>
                </div>
                <div class="form-group col-lg-4">
                    <label for="example-text-input" class="noc-form-label" style=""><strong>Date Of Birth</strong><span style="color:red;">*</span></label>
                    <div class="input-group">
                        <input type="text" class="form-control noc-input-text" name="DOB" id="DOB" placeholder="DD/MM/YYYY">
                        <div class="input-group-append">
                            <span class="input-group-text"><i class="dripicons-calendar"></i></span>
                        </div>
                    </div>
                </div>
                <div class="form-group col-lg-4">
                    <label for="example-text-input" class="noc-form-label" style=""><strong>Date Of Appoiment</strong><span style="color:red;">*</span></label>
                    <div class="input-group">
                        <input type="text" class="form-control noc-input-text" name="DOA" id="DOA" placeholder="DD/MM/YYYY">
                        <div class="input-group-append">
                            <span class="input-group-text"><i class="dripicons-calendar"></i></span>
                        </div>
                    </div>
                </div>
                <div class="form-group col-lg-4">
                    <label for="example-text-input" class="noc-form-label" style=""><strong>Date Of Joining</strong><span style="color:red;">*</span></label>
                    <div class="input-group">
                        <input type="text" class="form-control noc-input-text" name="DOJ" id="DOJ" placeholder="DD/MM/YYYY">
                        <div class="input-group-append">
                            <span class="input-group-text"><i class="dripicons-calendar"></i></span>
                        </div>
                    </div>
                </div>
                <div class="form-group col-lg-4">
                    <div id="divSpecialization">
                        <lable for="example-text-input" class="noc-form-label" style=""><strong>specialization Subject</strong></lable>
                        <span style="color:red;">*</span>
                        <input class="form-control noc-input-text alphaspace" type="text" autocomplete="off" id="Specialization" name="Specialization" required>
                    </div>
                    <div id="divRollmapping" style="display:none">
                        <lable for="example-text-input" class="noc-form-label" style="margin-left:-10px"><strong>Role mapping</strong></lable>
                        <span style="color:red;">*</span>
                        <input class="form-control noc-input-text alphaspace" type="text" autocomplete="off" id="Rollmapping" name="Rollmapping" required>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <lable class="noc-form-label"><strong>Salary</strong></lable>
                        <span style="color:red;">*</span>
                        <input class="form-control noc-input-text numberonly" type="text" autocomplete="off" id="Salary" name="Salary" placeholder="Per Month" required>
                    </div>
                </div>
                <div class="form-group col-lg-4">
                    <label for="example-text-input" class="noc-form-label" style=""><strong>Staff Status</strong><span style="color:red;">*</span></label>
                    <div class="form-check-inline my-1">
                        <div class="custom-control custom-radio">
                            <input type="radio" id="customRadio12" value="1" name="StaffStatus" class="custom-control-input" checked>
                            <label class="custom-control-label" for="customRadio12">Permanent</label>
                        </div>
                    </div>
                    <div class="form-check-inline my-1">
                        <div class="custom-control custom-radio">
                            <input type="radio" id="customRadio13" value="0" name="StaffStatus" class="custom-control-input">
                            <label class="custom-control-label" for="customRadio13">Temporary</label>
                        </div>
                    </div>
                </div>

                <div class="form-group col-lg-4">
                    <label for="example-text-input" class="noc-form-label" style=""><strong>PF Deduction</strong></label>
                    <div class="form-check-inline my-1">
                        <div class="custom-control custom-radio">
                            <input type="radio" id="customRadio17" value="1" name="PFDeduction" class="custom-control-input" checked>
                            <label class="custom-control-label" for="customRadio17">Yes</label>
                        </div>
                    </div>

                    <div class="form-check-inline my-1">
                        <div class="custom-control custom-radio">
                            <input type="radio" id="customRadio18" value="0" name="PFDeduction" class="custom-control-input">
                            <label class="custom-control-label" for="customRadio18">No</label>
                        </div>
                    </div>

                    <div id="divPFNumber">
                        <input class="form-control noc-input-text alphanumeric" type="text" id="PFNumber" name="PFNumber" placeholder="PF Number" autocomplete="off">
                    </div>
                </div>
                <div class="form-group col-lg-4">
                    <label for="example-text-input" class="noc-form-label" style=""><strong>Research Guide</strong><span style="color:red;">*</span></label>
                    <div class="form-check-inline my-1">
                        <div class="custom-control custom-radio">
                            <input type="radio" id="customRadio19" value="1" name="ResearchGuide" class="custom-control-input" checked>
                            <label class="custom-control-label" for="customRadio19">Yes</label>
                        </div>
                    </div>
                    <div class="form-check-inline my-1">
                        <div class="custom-control custom-radio">
                            <input type="radio" id="customRadio20" value="0" name="ResearchGuide" class="custom-control-input">
                            <label class="custom-control-label" for="customRadio20">NO</label>
                        </div>
                    </div>
                </div>



            </div>
        </div>

        <div id="divinstitute" style="width:100%">
            <div class="card-header title-heading rounded-0 p-0">
                <h4 class="mt-0 title-heading  float-left">Add New Educational Qualification Details</h4>
            </div>

            <div class="noc-layouts-tbl">
                <table class="table table-borderless table-responsive-md" id="contactsData">
                    <thead>
                        <tr>
                            <td>
                                <select class="form-control noc-input-text" id="PostQualification" name="PostQualification" required>
                                    <option value="0">Select</option>
                                    <option value="1">Graduation</option>
                                    <option value="2">Post Graduation</option>
                                </select>
                            </td>
                            <td><input type="text" id="Subject" name="Subject" placeholder="Stream/Subject*" class="form-control noc-input-text alphaspace" maxlength="50"></td>
                            <td><input type="text" id="Institute" name="Institute" placeholder="University/Board/ Institution*" maxlength="50" class="form-control noc-input-text alphaspace"></td>

                            <td><input type="text" id="PassingYear" name="PassingYear" placeholder="Passing Year*" minlength="4" maxlength="4" class="form-control noc-input-text numberonly"></td>

                            <td>
                                <input type="text" id="MarksInPercentage" name="MarksInPercentage" placeholder="Marks In Percentage/Grade*" minlength="50" maxlength="50" class="form-control noc-input-text alphanumeric">
                            </td>
                            <td><input type="button" class="btn add-row theme-button-mockup" value="Add Row"></td>

                        </tr>
                        <tr><td colspan="4">@Html.ValidationMessage("InstituteList", "", new { @class = "labels labels-danger", id = "lblcontactdeatils" })</td></tr>
                    </thead>
                    <tbody style="">
                        <tr>
                            <th>Professional Qualification</th>
                            <th>Stream/Subject</th>
                            <th>University/Board/ Institution</th>
                            <th>Passing Year</th>
                            <th>Percentage/Grade</th>
                            <th>Action</th>
                        </tr>
                    </tbody>
                    <tfoot>
                        @*@if (TrustDetails.InstituteDetails != null)
                            {
                                if (TrustDetails.InstituteDetails.Count > 0)
                                {
                                    foreach (var item in TrustDetails.InstituteDetails)
                                    {
                                        <tr>
                                            <td>@item.InstituteName</td>
                                            <td>@item.ContactPerson</td>
                                            <td>@item.Number</td>
                                            <td><input class='delete-row' type='button' name='delete' value='Remove' /></td>
                                        </tr>
                                    }
                                }
                            }*@
                    </tfoot>
                </table>
            </div>
        </div>
        <div class="row col-lg-12" style="margin-top: 20px; margin-left: 90%;">
            <div class="col-lg-12 float-right">
                @*<div class="form-group col-lg-6" style="display: flex;align-items: end;">*@
                <button class="theme-button-mockup" id="btnSave"><i class="fa fa-plus"></i> Save & Next</button>

            </div>
            @*</div>*@
        </div>
    </div>
    @*}*@
    <div class="row">
        <div class="form-group col-lg-12 ">

            <div class="title-heading p-0 rounded-0">
                <h4 class="mt-0 title-heading rounded-0 float-left">Staff Details</h4>
            </div>
            <div class="row col-lg-12  mt-3">
                <div class="col-lg-2">
                    <label for="example-text-input" class="noc-form-label" style=""><strong>Total</strong></label>
                    <input type="text" class="form-control noc-input-text" id="txtTotal" autocomplete="off" readonly />
                </div>
                <div class="col-lg-2">
                    <label for="example-text-input" class="noc-form-label" style=""><strong>Non Teaching</strong></label>
                    <input type="text" class="form-control noc-input-text" id="txtNonTech" autocomplete="off" readonly />
                </div>
                <div class="col-lg-2">
                    <label for="example-text-input" class="noc-form-label" style=""><strong>Teaching</strong></label>
                    <input type="text" class="form-control noc-input-text" id="txtTech" autocomplete="off" value="0" readonly />
                </div>
            </div>
            <div class="card-body">
                <div class="noc-layouts-tbl" style="overflow-x:auto;">
                    <table class="table table-striped table-bordered word-wrap" id="tblStaff">
                        <thead style="">
                            <tr>
                                <th>SNo</th>
                                <th>Name</th>
                                <th>Course</th>
                                <th>Subject</th>
                                <th>Role</th>
                                <th>Mobile</th>
                                <th>Email</th>
                                <th>Qualification</th>
                                <th>Type</th>
                                <th style="text-align:center">Aadhaar</th>
                                <th style="text-align:center">Pan</th>
                                <th style="text-align:center">Profile</th>
                                <th style="text-align:center">Experience</th>

                                <th style="text-align:center">DOB</th>
                                <th style="text-align:center">DOJ</th>
                                <th style="text-align:center">DOA</th>
                                <th style="text-align:center">Salary</th>
                                <th style="text-align:center">Staff Status</th>
                                <th style="text-align:center">Research Guide</th>
                                <th style="text-align:center">PFDeduction</th>
                                <th style="text-align:center">PFNumber</th>
                                <th style="text-align:center">specialization</th>
                                <th style="text-align:center">Total No of Experience</th>

                                <th style="text-align:center">Action</th>

                            </tr>
                        </thead>
                        <tbody>
                            @*@if (stafflist != null)
                                {
                                    int i = 1;
                                    foreach (var item in stafflist)
                                    {
                                        <tr>
                                            <td>@i</td>
                                            <td>@item.Name</td>
                                            <td>@item.Role</td>
                                            <td>@item.Mobile</td>
                                            <td>@item.Email</td>
                                            <td>@item.Qualification</td>
                                            <td>@item.Type</td>
                                            <td style="text-align:center"><a href="@Url.Action("DownloadDocuments", "Trustee", new { id = item.Aadhaar })" target="_blank" alt="Red dot"><i class="fa fa-download"></i></a></td>
                                            <td style="text-align:center"><a href="@Url.Action("DownloadDocuments", "Trustee", new { id = item.Pan })" target="_blank" alt="Red dot"><i class="fa fa-download"></i></a></td>
                                            <td style="text-align:center"><a href="@Url.Action("DownloadDocuments", "Trustee", new { id = item.Profile })" target="_blank" alt="Red dot"><i class="fa fa-download"></i></a></td>
                                            <td style="text-align:center"><a href="@Url.Action("DownloadDocuments", "Trustee", new { id = item.Experience })" target="_blank" alt="Red dot"><i class="fa fa-download"></i></a></td>
                                            <td style="text-align:center"> <a href="@Url.Action("Delete", "Staff", new { id = item.Id })"><i class="fas fa-trash" style="color:red"></i></a></td>

                                        </tr>
                                        i++;
                                    }
                                }
                                else
                                {
                                    <tr>
                                        <td colspan="8" style="text-align: center;">No Data Available</td>
                                    </tr>
                                }*@
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    @*<div class="row">
            <div class="form-group col-lg-12" style="display: flex;align-items: end;gap:10px; float:right">
                <button class="btn" id="btnfinalSave" style="background: #bc4e9c; float: right; /* fallback for old browsers */ background: -webkit-linear-gradient(to right, #f80759, #bc4e9c); /* Chrome 10-25, Safari 5.1-6 */ background: linear-gradient(to right, #f80759, #bc4e9c); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */ color: white !important; text-transform: uppercase "><i class="fa fa-save"></i> Save</button>
                <button class="btn" style="color: white !important; background: #00B4DB; float: right; /* fallback for old browsers */ background: -webkit-linear-gradient(to right, #0083B0, #00B4DB); /* Chrome 10-25, Safari 5.1-6 */ background: linear-gradient(to right, #0083B0, #00B4DB); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */; text-transform: uppercase"><i class="fa fa-save"></i> Continue</button>
            </div>
        </div>*@
</div>
<div class="modal fade bd-example-modal-xl" id="appSummary" tabindex="-1" role="dialog" aria-labelledby="appSummary" data-backdrop="static" style="display:none">
    <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="appSummary">Application Summary</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" style="padding: 20px !important;">
                <p style="font-size: 15px;font-weight: 500;color: black;">Your Application is processed for following selection : </p>
                <table class="table table-bordered" id="tblsummery" style="font-size: 15px;text-align: justify;font-family: sans-serif;">
                    <tr><th>Trust</th><td><span id="spnTrust"></span></td><th>College</th><td><span id="spnCollege"></span></td></tr>
                    <tr><th>Degree</th><td><span id="spnDegree"></span></td><th>Course</th><td><span id="spnCourse"></span></td></tr>
                    <tr><th>District</th><td>NA</td><th>Tehsil</th><td>NA</td></tr>
                    <tr><th>SSO</th><td>NA</td><th>Username</th><td>NA</td></tr>
                </table>
                <div style="    display: flex;    gap: 10px;    align-items: baseline;">

                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" id="customCheck1" name="customCheck" class="custom-control-input">
                        <label class="custom-control-label" for="customCheck1" style="font-weight: 600;font-size: 14px;">All Above Mention information is correct I would Like to continue for application</label>
                    </div>

                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" style="display:none" id="btnClose"></button>
                <button type="button" class="btn btn-primary" onclick="SaveDetails();">Submit</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
@section scripts {
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.8/dist/sweetalert2.all.min.js"></script>

    <script src="~/plugins/moment/moment.js"></script>
    <script src="~/plugins/daterangepicker/daterangepicker.js"></script>
    <script src="~/plugins/select2/select2.min.js"></script>
    <script src="~/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
    <script src="~/plugins/timepicker/bootstrap-material-datetimepicker.js"></script>
    <script src="~/plugins/bootstrap-maxlength/bootstrap-maxlength.min.js"></script>
    <script src="~/plugins/bootstrap-touchspin/js/jquery.bootstrap-touchspin.min.js"></script>
    <script src="~/scripts/pages/jquery.forms-advanced.js"></script>
    <script src="~/plugins/dropify/js/dropify.min.js"></script>
    <script src="~/scripts/pages/jquery.form-upload.init.js"></script>
    <script src="~/Content/globalDomain.js"></script>

    <script src="~/plugins/datatables/jquery.dataTables.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/dataTables.bootstrap4.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/dataTables.buttons.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/buttons.bootstrap4.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/jszip.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/pdfmake.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/vfs_fonts.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/buttons.html5.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/buttons.print.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/buttons.colVis.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/dataTables.responsive.min.js" type="text/javascript"></script>
    <script src="~/plugins/datatables/responsive.bootstrap4.min.js" type="text/javascript"></script>
    <script src="~/scripts/pages/jquery.datatable.init.js" type="text/javascript"></script>
}
@*<script src="~/Content/DashboardCss/AdminLTE2/plugins/jquery/jquery.min.js"></script>*@
<script type="text/javascript">

    $("#Qualification").change(function () {
        //alert($('option:selected', $(this)).text());
        if ($('option:selected', $(this)).text() == "PHD") {
            $("#customRadio19").prop("checked", true);
            $("#customRadio20").attr("disabled", true);
        }
        else {
            $("#customRadio19").attr("disabled", true);
            $("#customRadio20").prop("checked", true);
        }
    });

    var imagebase64 = "";
    function encodeImageFileAsURL(element, hdnId, hdnExtnID) {
        var elementID = element.id;
        var file = element.files[0];
        console.log(file.name);
        //console.log(elementID);
        var reader = new FileReader();
        reader.onloadend = function () {
            imagebase64 = reader.result;
            $('#' + hdnId).val(imagebase64);
            $('#' + hdnExtnID).val(file.name);
            //console.log(imagebase64)
            //console.log(hdnId)
        }
        reader.readAsDataURL(file);
        return imagebase64;
    }
    $("#DOB").datepicker({
        dateFormat: 'dd/mm/yy',
        changeMonth: true,
        changeYear: true,
        //yearRange: new Date().getFullYear().toString() + ':' + new Date().getFullYear().toString(),
        //onClose: function (selectedDate) {
        //}
    });
    $("#DOA").datepicker({
        dateFormat: 'dd/mm/yy',
        changeMonth: true,
        changeYear: true,
        //yearRange: new Date().getFullYear().toString() + ':' + new Date().getFullYear().toString(),
        //onClose: function (selectedDate) {
        //}
    });
    $("#DOJ").datepicker({
        dateFormat: 'dd/mm/yy',
        changeMonth: true,
        changeYear: true,
        //yearRange: new Date().getFullYear().toString() + ':' + new Date().getFullYear().toString(),
        //onClose: function (selectedDate) {
        //}
    });
    $('.alphaspace').keypress(function (e) {
        var regex = new RegExp("^[a-zA-Z ]+$");
        var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
        if (regex.test(str)) {
            return true;
        }
        else {
            e.preventDefault();
            //alert('Please Enter Alphabate');
            return false;
        }
    });
    $('.alphanumeric').keypress(function (e) {
        var regEx = /^[0-9a-zA-Z ]+$/;
        var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
        if (regEx.test(str)) {
            return true;
        }
        else {
            e.preventDefault();
            //alert('Please Enter Alphabate');
            return false;
        }

    });
    $('.numberonly').keypress(function (e) {
        var charCode = (e.which) ? e.which : event.keyCode
        if (String.fromCharCode(charCode).match(/[^0-9]/g))
            return false;
    });
    $(".add-row").click(function () {
        //alert("in");
        var markup = "";
        var Qualification = $("#PostQualification option:selected").text();
        //alert(Qualification);
        var Subject = $("#Subject").val();
        var Institute = $("#Institute").val();
        var PassingYear = $("#PassingYear").val();
        var MarksInPercentage = $("#MarksInPercentage").val();
        if (Qualification != '' && Subject != '' && Institute != '' && PassingYear != '' && MarksInPercentage != '') {
            markup = "<tr><td hidden>" + $("#PostQualification option:selected").val() + "</td><td>" + Qualification + "</td><td>" + Subject + "</td><td>" + Institute + "</td><td>" + PassingYear + "</td><td>" + MarksInPercentage + "</td><td><input class='delete-row' type='button' name='delete' value='Remove' /></td></tr>";
            $("#contactsData tfoot").append(markup);
        }
        $("#PostQualification").val('');
        $("#Subject").val('');
        $("#Institute").val('');
        $("#PassingYear").val('');
        $("#MarksInPercentage").val('');
        $('#lblcontactdeatils').html("");
    });
    $("#contactsData").on("click", ".delete-row", function () {
        $(this).closest("tr").remove();
    });
    $("input[name='PFDeduction']").change(function () {
        //alert("in");
        if ($(this).val() === '1') {
            $('#PFNumber').show();
        } else if ($(this).val() === '0') {
            $('#PFNumber').val('');
            $('#PFNumber').hide();
        }
        // Do something interesting here
    });
    $("input[name='Type']").change(function () {
        //alert("in");
        if ($(this).val() === '1') {
            $('#divSpecialization').show();
            $('#divRollmapping').hide();
            $('#Rollmapping').val('');
            $('#divCourse').show();
            $('#divSubject').show();
            $('#divRole').show();
        } else if ($(this).val() === '2') {
            $('#divSpecialization').hide();
            $('#divRollmapping').show();
            $('#Specialization').val('');

            $('#divCourse').hide();
            $('#divSubject').hide();
            $('#divRole').hide();
        }
        // Do something interesting here
    });
    $("#Course").change(function () {
        var Course = $("#Course option:selected").val();
        var guid = $("#guid").val();
        //alert(Districtid);
        if (Course > 0) {
            $.ajax({
                type: "GET",
                url: GetglobalDomain() + "/Staff/GetSubjectList",
                data: { guid: guid, Course: Course },
                success: function (data) {
                    console.log('data is', data);
                    $("#SubjectWITHcOURSE").html("<option value = \"\">Select Subject</option>")
                    $.each(data, function (index, value) {
                        $("#SubjectWITHcOURSE").append("<option value = \"" + value.Value + "\">" + value.Text + "</option>");
                    });
                }
            });
            //$.get(GetglobalDomain()+ "BasicDetails/GetTehsilList", { DistrictId: Districtid }, function (data) {
            //    $("#Tehsil").html("<option value = \"\">Select Tehsil</option>")
            //    $.each(data, function (index, value) {
            //        $("#TehsilId").append("<option value = \"" + value.Value + "\">" + value.Text + "</option>");
            //    });
            //});
        }
    });
</script>
<script type="text/javascript">
    function openModal(Id) {
        debugger;
        //alert(Id);
        $('#appSummary').modal.show();
        //$('#openModal').click();
    }

    var staffInfoData = [];
    $(document).ready(function () {
        GetStaffDetails();
        var url = "Staff/Index";
        GeneratePage(url);
        function GeneratePage(url) {

            $.ajax({
                url: GetglobalDomain() + url,
                type: 'GET',
                dataType: "text",
                success: function (response) {
                    //$('#divFormContainer').html('');
                    $('#divFormContainer1').removeAttr("style");
                    $('#divFormContainer').html(response);
                    $('#divLoader').css('display', 'none');
                    return;
                    /*  $("#AddSection").html(response);*/
                }
            });
            return false;
        }

         function GetStaffDetails() {
    var htmlString = "";
             var array = @Html.Raw(Json.Encode(ViewBag.StaffList));
             if (array.length > 0) {
                 $("#btn_Staff").css({ "background": "rgb(13, 148, 13)", "color": "#fff" });
          }
          else {
              debugger
                 $("#btn_Staff").css({ "background": "rgb(189, 0, 0)", "color": "#fff" });
          }
    for(var i = 0; i < array.length; i++) {
        staffInfoData.push(array[i]);
        }
             var tot = 0;
             var non = 0;
             var tech = 0;
             staffInfoData.forEach(function (item, index) {

                 if (item.Type == "Teaching")
                     tech = tech + 1;
                 else if (item.Type == "Non Teaching")
                     non = non + 1;

                 tot = tot + 1;
                 var Aadhaar = "NA";
                 var Pan = "NA";
                 var Profile = "NA";
                 var Experience = "NA";

                 console.log(tot);
                 console.log(non);
                 console.log(tech);
                 console.log(item.Aadhaar);
                 if (item.Aadhaar != "")
                     Aadhaar = "<a href=${GetglobalDomain()}/Trustee/DownloadDocuments?id=${item.Aadhaar} target ='_blank' alt = 'Red dot'><i class='fa fa-download'></i></a>";

                 if (item.Pan != "")
                     Pan = "<a href=${GetglobalDomain()}/Trustee/DownloadDocuments?id=${item.Pan} target ='_blank' alt = 'Red dot'><i class='fa fa-download'></i></a>";
                 if (item.Profile != "")
                     Profile = "<a href=${GetglobalDomain()}/Trustee/DownloadDocuments?id=${item.Profile} target ='_blank' alt = 'Red dot'><i class='fa fa-download'></i></a>";
                 if (item.Experience != "")
                     Experience = "<a href=${GetglobalDomain()}/Trustee/DownloadDocuments?id=${item.Experience} target ='_blank' alt = 'Red dot'><i class='fa fa-download'></i></a>";

            //var landConvertedURL = (item.UploadConvertedDocument == null) ? `NA` : `<a href="${item.UploadConvertedDocument}" download="${item.sKhasaraNo}_LandConvert" target="_blank" alt="Red dot"><i class="fa fa-download"></i></a>`;
            //var landTitleURL = (item.UploadLandTitleDoc == null) ? `NA` : `<a href="${item.UploadLandTitleDoc}" download="${item.sKhasaraNo}_landTitle" target="_blank" alt="Red dot"><i class="fa fa-download"></i></a>`;
            //var landDocumentURL = (item.UploadLandDoc ==null) ? `NA` : `<a href="${item.UploadLandDoc}" download="${item.sKhasaraNo}_LandDoc" target="_blank" alt="Red dot"><i class="fa fa-download"></i></a>`;

            htmlString += `<tr><td>${index + 1}</td>
                                            <td>${item.Name}</td>
 <td>${item.Course}</td>
                                            <td>${item.Subject}</td>
                                            <td>${item.Role}</td>
                                            <td>${item.Mobile}</td>
                                            <td>${item.Email}</td>
                                            <td>${item.Qualification}</td>
                                            <td>${item.Type}</td>
<td style='text-align:center'>${Aadhaar}</td>
<td style='text-align:center'>${Pan}</td>
<td style='text-align:center'>${Profile}</td>
<td style='text-align:center'>${Experience}</td>

<td>${item.DOB}</td>
                                            <td>${item.DOJ}</td>
                                            <td>${item.DOA}</td>
                                            <td>${item.Salary}</td>
                                            <td>${item.StaffStatus}</td>
                                            <td>${item.ResearchGuide}</td>
<td>${item.PFDeduction}</td>
                                            <td>${item.PFNumber}</td>
                                            <td>${item.Specialization}</td>
<td>${item.ExpNo}</td>


<td style='text-align:center'><a href='#' class='theme-delete-btn' alt = 'Red dot' onclick="datadelete(${item.Id})"><i class='fas fa-trash'></i></a>
</td>

</tr>`


        });
             $("#tblStaff tbody").html('');
             $("#tblStaff tbody").html(htmlString);

             $("#txtTotal").val(tot);
             $("#txtNonTech").val(non);
             $("#txtTech").val(tech);
}
    });
</script>
<script type="text/javascript">

    function CheckValid() {

        var teachingNonTeaching = $("input[name='Type']:checked").val();
        //alert(teachingNonTeaching);
        var status = true;
        debugger;
        if (teachingNonTeaching != 2) {

            var Course = $('#Course').val();
            if (Course == "0") {
                $('#Course').removeClass('sucess-highlight').addClass('errr-highlight');
                status = false;
            }
            else {
                $('#Course').removeClass('errr-highlight').addClass('sucess-highlight');
            }
            var SubjectC = $('#SubjectWITHcOURSE').val();
            if (SubjectC == "0") {
                $('#SubjectWITHcOURSE').removeClass('sucess-highlight').addClass('errr-highlight');
                status = false;
            }
            else {
                $('#SubjectWITHcOURSE').removeClass('errr-highlight').addClass('sucess-highlight');
            }

            var Role = $('#Role').val();
            if (Role <= 0) {
                $('#Role').removeClass('sucess-highlight').addClass('errr-highlight');
                status = false;
            }
            else {
                $('#Role').removeClass('errr-highlight').addClass('sucess-highlight');
            }
        }


        var Name = $('#Name').val();
        if (Name == "") {
            $('#Name').removeClass('sucess-highlight').addClass('errr-highlight');
            status = false;
        }
        else {
            $('#Name').removeClass('errr-highlight').addClass('sucess-highlight');
        }

        var Mobile = $('#Mobile').val();
        if (Mobile == "") {
            $('#Mobile').removeClass('sucess-highlight').addClass('errr-highlight');
            status = false;
        }
        else {
            $('#Mobile').removeClass('errr-highlight').addClass('sucess-highlight');
        }

        var Email = $('#Email').val();
        if (Email == "") {
            $('#Email').removeClass('sucess-highlight').addClass('errr-highlight');
            status = false;
        }
        else {
            $('#Email').removeClass('errr-highlight').addClass('sucess-highlight');
        }
        var Qualification = $('#Qualification option:selected').text();
        if (Qualification == "") {
            $('#Qualification').removeClass('sucess-highlight').addClass('errr-highlight');
            status = false;
        }
        else {
            $('#Qualification').removeClass('errr-highlight').addClass('sucess-highlight');
        }
        var ExpNo = $('#ExpNo').val();
        if (ExpNo == "") {
            $('#ExpNo').removeClass('sucess-highlight').addClass('errr-highlight');
            status = false;
        }
        else {
            $('#ExpNo').removeClass('errr-highlight').addClass('sucess-highlight');
        }
        var DOB = $('#DOB').val();
        if (DOB == "") {
            $('#DOB').removeClass('sucess-highlight').addClass('errr-highlight');
            status = false;
        }
        else {
            $('#DOB').removeClass('errr-highlight').addClass('sucess-highlight');
        }
        var DOJ = $('#DOJ').val();
        if (DOJ == "") {
            $('#DOJ').removeClass('sucess-highlight').addClass('errr-highlight');
            status = false;
        }
        else {
            $('#DOJ').removeClass('errr-highlight').addClass('sucess-highlight');
        }
        var DOA = $('#DOA').val();
        if (DOA == "") {
            $('#DOA').removeClass('sucess-highlight').addClass('errr-highlight');
            status = false;
        }
        else {
            $('#DOA').removeClass('errr-highlight').addClass('sucess-highlight');
        }

        var Type = $('input[name="Type"]:checked').val();
        if (Type == "1") {
            $('#Rollmapping').removeClass('errr-highlight').addClass('sucess-highlight');
            var Specialization = $('#Specialization').val();
            if (Specialization == "") {
                $('#Specialization').removeClass('sucess-highlight').addClass('errr-highlight');
                status = false;
            }
            else {
                $('#Specialization').removeClass('errr-highlight').addClass('sucess-highlight');
            }
        }
        else {
            var Specialization = $('#Rollmapping').val();
            $('#Specialization').removeClass('errr-highlight').addClass('sucess-highlight');
            if (Specialization == "") {
                $('#Rollmapping').removeClass('sucess-highlight').addClass('errr-highlight');
                status = false;
            }
            else {
                $('#Rollmapping').removeClass('errr-highlight').addClass('sucess-highlight');
            }
        }


        var StaffStatus = $('input[name="StaffStatus"]:checked').val();
        if (StaffStatus == "") {
            $('#StaffStatus').removeClass('sucess-highlight').addClass('errr-highlight');
            status = false;
        }
        else {
            $('#StaffStatus').removeClass('errr-highlight').addClass('sucess-highlight');
        }
        var Salary = $('#Salary').val();
        if (Salary == "") {
            $('#Salary').removeClass('sucess-highlight').addClass('errr-highlight');
            status = false;
        }
        else {
            $('#Salary').removeClass('errr-highlight').addClass('sucess-highlight');
        }
        var PFDeduction = $('input[name="PFDeduction"]:checked').val();
        if (PFDeduction == "1") {
            var PFNumber = $('#PFNumber').val();
            //$('#PFDeduction').removeClass('sucess-highlight').addClass('errr-highlight');
            if (PFNumber == "") {
                $('#PFNumber').removeClass('sucess-highlight').addClass('errr-highlight');
                status = false;
            }
            else {
                $('#PFNumber').removeClass('errr-highlight').addClass('sucess-highlight');
            }
            //status = false;
        }
        else {
            $('#PFNumber').removeClass('errr-highlight').addClass('sucess-highlight');
            $('#PFDeduction').removeClass('errr-highlight').addClass('sucess-highlight');
        }


        var ResearchGuide = $('input[name="ResearchGuide"]:checked').val();
        if (ResearchGuide == "") {
            $('#ResearchGuide').removeClass('sucess-highlight').addClass('errr-highlight');
            status = false;
        }
        else {
            $('#ResearchGuide').removeClass('errr-highlight').addClass('sucess-highlight');
        }
        debugger;

        //PROFILE
        var profilefile = $('#hdnprofilefileDoc').val();
        if (profilefile == "") {
            $('#profilefile').removeClass('sucess-highlight').addClass('errr-highlight');
            status = false;
        }
        else {
            $('#profilefile').removeClass('errr-highlight').addClass('sucess-highlight');
        }


        //AADHAAR
        var aadaarContenttype = $('#hdnaadhaarfileDoc').val();
        if (aadaarContenttype == "") {
            $('#aadhaarfile').removeClass('sucess-highlight').addClass('errr-highlight');
            status = false;
        }
        else {
            $('#aadhaarfile').removeClass('errr-highlight').addClass('sucess-highlight');
        }

        //PAN
        var panContenttype = $('#hdnpanfileDoc').val();
        if (panContenttype == "") {
            $('#panfile').removeClass('sucess-highlight').addClass('errr-highlight');
            status = false;
        }
        else {
            $('#panfile').removeClass('errr-highlight').addClass('sucess-highlight');
        }


        //EXPERIENCE
        var ExperContenttype = $('#hdnexperiencefileDoc').val();
        if (ExperContenttype == "") {
            $('#experiencefile').removeClass('sucess-highlight').addClass('errr-highlight');
            status = false;
        }
        else {
            $('#experiencefile').removeClass('errr-highlight').addClass('sucess-highlight');
        }

        var contactsInfo = new Array();
        $("#contactsData tfoot tr").each(function () {
            var row = $(this);
            var contactInfo = {};
            contactInfo.Qualification = row.find("td").eq(0).html();
            contactInfo.Subject = row.find("td").eq(1).html();
            contactInfo.Institute = row.find("td").eq(2).html();
            contactInfo.PassingYear = row.find("td").eq(3).html();
            contactInfo.MarksPercentage = row.find("td").eq(4).html();
            contactsInfo.push(contactInfo);
        });
        console.log(contactsInfo);
        if (contactsInfo.length <= 0) {
            $('#lblcontactdeatils').html("Add atlest one row in Educational Qualification");
            status = false;
            //alert("");
        }
        else {
            $('#lblcontactdeatils').html("");
        }

        return status;
    }

    $("#btnSave").click(function () {
        debugger;
        var guid = $('#guid').val();
        var Type = $('input[name="Type"]:checked').val();
        var Name = $('#Name').val();
        var Role = $('#Role').val();
        var Mobile = $('#Mobile').val();
        var Email = $('#Email').val();
        var Qualification = $('#Qualification option:selected').text();
        var DOB = $('#DOB').val();
        var DOJ = $('#DOJ').val();
        var DOA = $('#DOA').val();
        var Specialization = $('#Specialization').val();
        var StaffStatus = $('input[name="StaffStatus"]:checked').val();
        var Salary = $('#Salary').val();
        var PFDeduction = $('input[name="PFDeduction"]:checked').val();
        var PFNumber = $('#PFNumber').val();
        var ResearchGuide = $('input[name="ResearchGuide"]:checked').val();
        var Course = $('#Course option:selected').val();
        var Subject = $('#SubjectWITHcOURSE option:selected').val();
        var ExpNo = $('#ExpNo').val();

        debugger;

        //PROFILE
        var profileContenttype = $('#hdnprofilefileDoc').val().split(',')[0];
        var profilefile = $('#hdnprofilefileDoc').val().split(',')[1];
        var ProfileExten = $('#hdnprofilefileDocExten').val().split('.')[1];
        if (profileContenttype != "")
            profileContenttype = $('#hdnprofilefileDoc').val().split(',')[0].split(':')[1].split(';')[0];
        else
            profileContenttype = $('#hdnprofilefileDoc').val().split(',')[0];


        //AADHAAR
        var aadaarContenttype = $('#hdnaadhaarfileDoc').val().split(',')[0];
        var aadhaarfile = $('#hdnaadhaarfileDoc').val().split(',')[1];
        var aadharExten = $('#hdnaadhaarfileDocExten').val().split('.')[1];
        if (aadaarContenttype != "")
            aadaarContenttype = $('#hdnaadhaarfileDoc').val().split(',')[0].split(':')[1].split(';')[0];
        else
            aadaarContenttype = $('#hdnaadhaarfileDoc').val().split(',')[0];

        //PAN
        var panContenttype = $('#hdnpanfileDoc').val().split(',')[0];
        var panfile = $('#hdnpanfileDoc').val().split(',')[1];
        var panExten = $('#hdnpanfileDocExten').val().split('.')[1];
        if (panContenttype != "")
            panContenttype = $('#hdnpanfileDoc').val().split(',')[0].split(':')[1].split(';')[0];
        else
            panContenttype = $('#hdnpanfileDoc').val().split(',')[0];

        //EXPERIENCE
        var ExperContenttype = $('#hdnexperiencefileDoc').val().split(',')[0];
        var Experfile = $('#hdnexperiencefileDoc').val().split(',')[1];
        var ExperExten = $('#hdnexperiencefileDocExten').val().split('.')[1];
        if (ExperContenttype != "")
            ExperContenttype = $('#hdnexperiencefileDoc').val().split(',')[0].split(':')[1].split(';')[0];
        else
            ExperContenttype = $('#hdnexperiencefileDoc').val().split(',')[0];

        var contactsInfo = new Array();
        $("#contactsData tfoot tr").each(function () {
            var row = $(this);
            var contactInfo = {};
            contactInfo.Qualification = row.find("td").eq(0).html();
            contactInfo.Subject = row.find("td").eq(2).html();
            contactInfo.Institute = row.find("td").eq(3).html();
            contactInfo.PassingYear = row.find("td").eq(4).html();
            contactInfo.MarksPercentage = row.find("td").eq(5).html();
            contactsInfo.push(contactInfo);
        });
        console.log(contactsInfo);
        var teachingNonTeaching = $("input[name='Type']:checked").val();
        var modal = {
            Type: Type,
            Name: Name,
            Role: Role,
            Qualification: Qualification,
            DOB: DOB,
            DOJ: DOJ,
            DOA: DOA,
            Specialization: Specialization,
            StaffStatus: StaffStatus,
            Salary: Salary,
            PFDeduction: PFDeduction,
            PFNumber: PFNumber,
            ResearchGuide: ResearchGuide,
            Mobile: Mobile,
            Email: Email,

            Aadhaar: aadhaarfile,
            AadhaarExtension: aadharExten,
            AadhaarContentType: aadaarContenttype,

            Pan: panfile,
            PanExtension: panExten,
            PanContentType: panContenttype,

            Profile: profilefile,
            ProfileExtension: ProfileExten,
            ProfileContentType: profileContenttype,

            Experience: Experfile,
            ExperienceExtension: ExperExten,
            ExperienceContentType: ExperContenttype,
            QualificationDetails: contactsInfo,
            Guid: guid,
            Subject: teachingNonTeaching == "2" ? 0 : Subject,
            Course: teachingNonTeaching == "2" ? 0 : Course,
            ExpNo: ExpNo
        }
        console.log(modal);
        if (CheckValid()) {
            $.ajax({
                type: "POST",
                url: GetglobalDomain() + "/Staff/SaveDetails",
                data: modal,
                success: function (result) {
                    if (result.StatusCode == '1') {
                        Swal.fire({
                            position: 'center',
                            icon: 'success',
                            title: 'Data saved sussessfully!',
                            allowOutsideClick: false,
                            showCancelButton: false,
                            showCloseButton: true,
                            showConfirmButton: true,
                        }).then((result) => {
                            /* Read more about isConfirmed, isDenied below */
                            if (result.isConfirmed) {
                                //$('#btn_Staff').click();
                                $('#btnEA_Acadmic').click();
                                //var url = GetglobalDomain() + "/Staff/Index";
                                //window.location.href = url;
                            }
                        });
                    }
                    else {
                        Swal.fire(
                            'error',
                            'Failed',
                            'Data not Saved'
                        )
                    }
                }
            });
        }
    });

    function datadelete(Id) {
        debugger;
        //alert(Id);
        $.ajax({
            type: "POST",
            url: GetglobalDomain() + "/Staff/DataDelete",
            data: { Id: Id },
            success: function (result) {
                if (result.StatusCode == "1") {
                    Swal.fire({
                        position: 'center',
                        icon: 'success',
                        title: 'Data de-activeted sussessfully!',
                        allowOutsideClick: false,
                        showCancelButton: false,
                        showCloseButton: true,
                        showConfirmButton: true,
                    }).then((result) => {
                        /* Read more about isConfirmed, isDenied below */
                        if (result.isConfirmed) {
                            $('#btn_Staff').click();
                            //var url = GetglobalDomain() + "/Staff/Index";
                            //window.location.href = url;
                        }
                    });
                }
                else {
                    Swal.fire(
                        'error',
                        'Failed',
                        'Data not found'
                    )
                }
            }
        });
    }
</script>


